{"version":3,"file":null,"sources":["../../src/js/gettext.js"],"sourcesContent":["'use strict';\n\nexport class Gettext {\n    constructor(catalog) {\n        if (!catalog) {\n            catalog = {\n                'catalog': {},\n                'plural': null\n            };\n        }\n        if (!catalog.hasOwnProperty('catalog')) {\n            catalog.catalog = {};\n        }\n        this.catalog = catalog.catalog;\n        if (catalog.plural) {\n            this.pluralidx = (n) => {\n                return (eval(catalog.plural)) * 1;\n            };\n        } else {\n            this.pluralidx = (n) => {\n                return (n === 1) ? 0 : 1;\n            };\n        }\n    }\n\n    gettext(msgid) {\n        let value = this.catalog[msgid];\n        if (typeof(value) === 'undefined') {\n            return msgid;\n        } else {\n            return (typeof(value) === 'string') ? value : value[0];\n        }\n    }\n\n    ngettext(singular, plural, count) {\n        let value = this.catalog[singular];\n        let type = typeof(value);\n        if (type === 'undefined') {\n            return [singular, plural][this.pluralidx(count)];\n        } else if (type === 'string') {\n            return value;\n        } else {\n            return value[this.pluralidx(count)];\n        }\n    }\n}\n\nlet CATALOG = new Gettext();\n\nexport function set_catalog(catalog) {\n    if (!(catalog instanceof Gettext)) {\n        catalog = new Gettext(catalog);\n    }\n    CATALOG = catalog;\n}\n\nexport function gettext(msgid) {\n    return CATALOG.gettext(msgid);\n}\n\nexport function ngettext(singular, plural, count) {\n    return CATALOG.ngettext(singular, plural, count);\n}\n"],"names":["Gettext","catalog","hasOwnProperty","plural","pluralidx","n","eval","msgid","value","singular","count","type","CATALOG","set_catalog","gettext","ngettext"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAEaA,OAAb;qBACgBC,OAAZ,EAAqB;;;YACb,CAACA,OAAL,EAAc;sBACA;2BACK,EADL;0BAEI;aAFd;;YAKA,CAACA,QAAQC,cAAR,CAAuB,SAAvB,CAAL,EAAwC;oBAC5BD,OAAR,GAAkB,EAAlB;;aAECA,OAAL,GAAeA,QAAQA,OAAvB;YACIA,QAAQE,MAAZ,EAAoB;iBACXC,SAAL,GAAiB,UAACC,CAAD,EAAO;uBACZC,KAAKL,QAAQE,MAAb,CAAD,GAAyB,CAAhC;aADJ;SADJ,MAIO;iBACEC,SAAL,GAAiB,UAACC,CAAD,EAAO;uBACZA,MAAM,CAAP,GAAY,CAAZ,GAAgB,CAAvB;aADJ;;;;;;gCAMAE,KAvBZ,EAuBmB;gBACPC,QAAQ,KAAKP,OAAL,CAAaM,KAAb,CAAZ;gBACI,OAAOC,KAAP,KAAkB,WAAtB,EAAmC;uBACxBD,KAAP;aADJ,MAEO;uBACK,OAAOC,KAAP,KAAkB,QAAnB,GAA+BA,KAA/B,GAAuCA,MAAM,CAAN,CAA9C;;;;;iCAICC,QAhCb,EAgCuBN,MAhCvB,EAgC+BO,KAhC/B,EAgCsC;gBAC1BF,QAAQ,KAAKP,OAAL,CAAaQ,QAAb,CAAZ;gBACIE,cAAcH,KAAd,yCAAcA,KAAd,CAAJ;gBACIG,SAAS,WAAb,EAA0B;uBACf,CAACF,QAAD,EAAWN,MAAX,EAAmB,KAAKC,SAAL,CAAeM,KAAf,CAAnB,CAAP;aADJ,MAEO,IAAIC,SAAS,QAAb,EAAuB;uBACnBH,KAAP;aADG,MAEA;uBACIA,MAAM,KAAKJ,SAAL,CAAeM,KAAf,CAAN,CAAP;;;;;;;AAKZ,IAAIE,UAAU,IAAIZ,OAAJ,EAAd;;AAEA,AAAO,SAASa,WAAT,CAAqBZ,OAArB,EAA8B;QAC7B,EAAEA,mBAAmBD,OAArB,CAAJ,EAAmC;kBACrB,IAAIA,OAAJ,CAAYC,OAAZ,CAAV;;cAEMA,OAAV;;;AAGJ,AAAO,SAASa,OAAT,CAAiBP,KAAjB,EAAwB;WACpBK,QAAQE,OAAR,CAAgBP,KAAhB,CAAP;;;AAGJ,AAAO,SAASQ,QAAT,CAAkBN,QAAlB,EAA4BN,MAA5B,EAAoCO,KAApC,EAA2C;WACvCE,QAAQG,QAAR,CAAiBN,QAAjB,EAA2BN,MAA3B,EAAmCO,KAAnC,CAAP;;;;;;"}