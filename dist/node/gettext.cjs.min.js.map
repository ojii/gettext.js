{"version":3,"sources":["../../src/js/gettext.js"],"names":["set_catalog","catalog","Gettext","gettext","msgid","CATALOG","ngettext","singular","plural","count","hasOwnProperty","pluralidx","n","eval","value","this","type","_typeof"],"mappings":"YAiDA,SAAgBA,aAAYC,GAClBA,YAAmBC,aACX,GAAIA,SAAQD,YAEhBA,EAGd,QAAgBE,SAAQC,SACbC,SAAQF,QAAQC,GAG3B,QAAgBE,UAASC,EAAUC,EAAQC,SAChCJ,SAAQC,SAASC,EAAUC,EAAQC,kkCA3DjCP,QAAb,4BACgBD,sCACHA,qCAGa,OAGbA,QAAQS,eAAe,qBAChBT,iBAEPA,QAAUA,QAAQA,QACnBA,QAAQO,YACHG,UAAY,SAACC,SACkB,GAAxBC,KAAKZ,QAAQO,cAGpBG,UAAY,SAACC,SACA,KAANA,EAAW,EAAI,6DAK3BR,MACAU,GAAQC,KAAKd,QAAQG,SACH,mBAAXU,GACAV,EAEmB,gBAAXU,GAAuBA,EAAQA,EAAM,oCAInDP,EAAUC,EAAQC,MACnBK,GAAQC,KAAKd,QAAQM,GACrBS,EAAA,mBAAcF,GAAd,YAAAG,QAAcH,SACL,cAATE,GACQT,EAAUC,GAAQO,KAAKJ,UAAUF,IACzB,WAATO,EACAF,EAEAA,EAAMC,KAAKJ,UAAUF,mBAKpCJ,QAAU,GAAIH","file":"dist/node//gettext.cjs.min.js.map","sourcesContent":["'use strict';\n\nexport class Gettext {\n    constructor(catalog) {\n        if (!catalog) {\n            catalog = {\n                'catalog': {},\n                'plural': null\n            };\n        }\n        if (!catalog.hasOwnProperty('catalog')) {\n            catalog.catalog = {};\n        }\n        this.catalog = catalog.catalog;\n        if (catalog.plural) {\n            this.pluralidx = (n) => {\n                return (eval(catalog.plural)) * 1;\n            };\n        } else {\n            this.pluralidx = (n) => {\n                return (n === 1) ? 0 : 1;\n            };\n        }\n    }\n\n    gettext(msgid) {\n        let value = this.catalog[msgid];\n        if (typeof(value) === 'undefined') {\n            return msgid;\n        } else {\n            return (typeof(value) === 'string') ? value : value[0];\n        }\n    }\n\n    ngettext(singular, plural, count) {\n        let value = this.catalog[singular];\n        let type = typeof(value);\n        if (type === 'undefined') {\n            return [singular, plural][this.pluralidx(count)];\n        } else if (type === 'string') {\n            return value;\n        } else {\n            return value[this.pluralidx(count)];\n        }\n    }\n}\n\nlet CATALOG = new Gettext();\n\nexport function set_catalog(catalog) {\n    if (!(catalog instanceof Gettext)) {\n        catalog = new Gettext(catalog);\n    }\n    CATALOG = catalog;\n}\n\nexport function gettext(msgid) {\n    return CATALOG.gettext(msgid);\n}\n\nexport function ngettext(singular, plural, count) {\n    return CATALOG.ngettext(singular, plural, count);\n}\n"]}